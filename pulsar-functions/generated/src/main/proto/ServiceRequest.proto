syntax = "proto3";
package generated;

option java_package = "org.apache.pulsar.functions.generated";
option java_outer_classname = "ServiceRequest";

message FunctionConfig {
    string tenant = 1;
    string namespace = 2;
    string name = 3;
    string className = 4;
    string inputSerdeClassName = 5;
    string outputSerdeClassName = 6;
    string sourceTopic = 7;
    string sinkTopic = 8;
}

message PackageLocationMetaData {
    string packagePath = 1;
}

message FunctionMetaData {
    FunctionConfig functionConfig = 1;
    PackageLocationMetaData packageLocation = 2;
    string runtime = 3;
    uint64 version = 4;
    uint64 createTime = 5;
    string workerId = 6;
}

message Request {
    enum ServiceRequestType {
        UPDATE = 0;
        DELETE = 1;
        MARKER = 2;
    }

    ServiceRequestType serviceRequestType = 1;
    string requestId = 2;
    FunctionMetaData functionMetaData = 3;
    string workerId = 4;
}